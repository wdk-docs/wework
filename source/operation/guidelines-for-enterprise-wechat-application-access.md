# 企业微信应用接入指引

最后更新：2022/08/23

背景
企业微信保持完全开放的第三方合作策略，致力于和所有的合作伙伴携手为用户提供最优质的企业服务。
本接入说明将帮助未注册或新注册的服务商快速了解企业微信服务商体系及如何将产品接入到企业微信上。
服务商可通过第三方标准应用模式，向企业提供标准的、统一的应用服务。通过自建应用代开发模式，为企业提供灵活的、定制的应用服务。
企业微信支持网页应用和小程序两种类型应用的接入。
成为企业微信的服务商

1. 流程图

2. 线上申请流程
   企业微信服务商基于企业微信帐号体系创建，故需先创建一个新企业或准备一个已有企业。
   点此注册企业微信
   完善基础资料，从服务商官网申请成为服务商点此申请成为服务商
3. 服务商后台
   申请服务商成功后，将自动跳转到服务商管理后台（后续可以通过访问https://open.work.weixin.qq.com找到后台入口）

服务商后台有 6 个导航页，功能介绍如下：

导航页 功能介绍
首页 总体情况概览及消息通知中心
应用管理 承载标准应用的【开发 → 推广 → 运营】的 整个流程，服务商可在这里快速将标准产品以 H5 应用/小程序的形式接入到企业微信
硬件管理 合作伙伴可以将硬件设备接入企业微信，再基于企业微信向企业提供软硬一体化的服务和解决方案
解决方案管理 合作伙伴可以根据不同行业及场景提供基于企业微信的解决方案，方案落地后，可以录入并创建专属推广页。获得客户认可的优质方案将可以获得企业微信推广资源支持
客户管理 企业微信设立了服务奖励基金，用于补贴为企业提供咨询服务并帮助企业用起企业微信的服务商。 奖励规则及说明
服务商信息 服务商基本信息、服务信息及权限管理 4. 服务商助手
服务商助手是企业微信服务商的一站式学习、工作、交流平台。包含首页数据看版、问答社区、接口广场、学习园地、服务商工具五大功能模块。
在服务商企业内，有服务商后台权限的成员，可以在企业微信工作台中使用「服务商助手」应用。

功能 功能介绍
首页 服务商助手首页提供给服务商伙伴业务数据看版，可以看到目前业务的开展情况。
学习 提供视频课程、知识库供服务商伙伴体系化学习，并提供认证考试能力，通过考试可获得企业微信认证。
接口 接口广场是面向合作伙伴的接口开放平台，合作伙伴可开放自己应用的接口，也可调用其他应用的接口，通过应用间接口的合作，丰富应用的产品能力，满足企业的多样化需求。
问答 提供服务商的自由交流、分享平台，在问答社区中提出问题，会有其他服务商伙伴为你解答疑惑。
工具 提供服务商日常业务开展中所需要使用到的软件工具，覆盖各类合作模式，提高服务商开展业务的效率。

标准应用开发

1. 标准应用接入流程
   上架改为推荐.png

2. 创建应用
   2.1 创建网页应用
   创建应用详细步骤：
   登录「服务商后台」或进入「桌面端服务商助手」，进入【应用管理—网页应用—创建应用】，按照步骤完成应用相关配置

2.2 创建小程序
企业微信支持小程序的运行，小程序需要先在微信小程序平台审核和发布，然后在企业微信关联，整体的步骤如下：

注册微信小程序开发者
开发微信小程序，适配企业微信帐号
在微信小程序平台发布小程序
在企业微信服务商后台关联小程序
关联小程序的详细步骤如下：
登录「服务商后台」或进入「桌面端服务商助手」，进入【应用管理—小程序—关联小程序】，按照步骤完成应用相关配置并关联小程序。

2.3 应用信息填写标准
应用信息禁止涉及抄袭、侵权等违法行为，禁止使用夸大性、广告性和误导性的名称（如：“永久免费”、“热门”、”第一”等）。

2.3.1 基本信息填写
填写项 填写标准
应用 logo 必填，应用 logo 必须为正方形，像素为 750﹡750，1M 以内的 jpg、png 图片，不可使用企业微信 logo 或进行二次修改
应用名称 必填，2-10 个字，建议包含品牌名，不可使用特殊字符及特殊词汇 （如：“腾讯”、“微信”、“特卖”、“企业微信”、“企微”、“抽奖”、“免费”等）
应用标语 必填，2-10 个字，需突出产品的功能亮点、给用户带来的独特价值。不可使用特殊字符及特殊词汇 （如：“腾讯”、“微信”、“特卖”、“企业微信”、“企微”、“抽奖”、“免费”等）
应用简介 必填， 4-120 个字，建议 80 个汉字左右，清晰描述应用功能和使用场景
应用分类 必填，根据应用的功能及场景进行选择
目标行业 必填，根据应用面向的目标行业进行选择
应用权限 遵循“权限最小化”原则，仅申请获取应用所必须的、最少属性的、最小范围的权限
提交应用上线审核时，将针对应用新增权限进行检查，若应用测试授权没有具体权限的实际调用，则无法通过

2.3.2 开发配置填写
填写项 填写标准
应用主页 必填，用户从企业微信工作台进入应用时将直接跳转到对应的主页 URL
桌面端应用主页 非必填，用户从桌面端企业微信工作台进入应用时跳转的主页 URL。
若填写则桌面端进入桌面端应用主页移动端依旧进入上方的应用主页，若未填写则桌面端移动端均进入上方的应用主页
可信域名 必填，填写不带 http:// 或 https:// 头，可信域名必须通过 ICP 备案验证
设置可信域名后支持应用的 OAuth2 授权、JSSDK 调用等
安装完成回调域名 必填，填写不带 http:// 或 https: //头的有效域名地址
应用安装成功后会 302 跳转到该域名下的 url，返回临时 auth_code，再用此 code 换取永久授权码
业务设置 URL 必填，填写带 https:// 头的有效 URL 链接
授权企业的管理员可从企业微信后台的应用详情页免登录直接跳转该链接进行应用配置
数据回调 URL 必填，填写带 https:// 头的有效 URL 链接，填写 URL 时需要正确响应企业微信验证 URL 的请求
用于接收托管企业微信应用的用户消息、进入应用事件、通讯录变更事件
指令回调 URL 必填，填写带 https:// 头的有效 URL 链接，填写 URL 时需要正确响应企业微信验证 URL 的请求
用于接收应用授权变更事件（应用添加、删除、修改）以及 ticket 参数，ticket 说明详 API 接口说明
2.3.3 其他信息填写
填写项 填写标准
移动端应用截图 必填，必须为 IOS 版的企业微信界面或小程序界面截图，2-5 张，像素 1242* 2208，无水印的 jpg、png 格式，2M 以内，可进行一定的设计来清晰直观呈现应用功能和特点
桌面端应用截图 必填，已完成桌面端工作台适配的应用，必须上传 2-5 张桌面端截图。必须为企业微信桌面端工作台打开应用的截图，截图必须为桌面端适配的页面（不可以为竖版手机端页面），像素 1080* 832，2M 以内无水印的 jpg、png 图片，可进行一定的设计来清晰直观呈现应用功能和特点
功能及定价表 必填，选择应用对应的客户付费模式，并上传功能及定价表格。表格中，版本功能和定价策略必填，增值服务和额外说明选填。切勿修改表格的样式、sheet 表的位置、名称和对单元格进行合并操作。版本功能行数建议在 10-15 行内，做一定的顺序调整，形成倒三角的样式。
服务商隐私政策 必填，可选择本地文档上传，或通过填写模版中的信息，生成服务商隐私政策内容。
应用适配 必填，根据应用实际体验，填写应用适配情况
审批接口 非必填，使用企业微信审批能力，在非审批应用内设置流程、发起审批。模板名称：1-10 个字，模板介绍：1-200 个字。不可使用特殊字符及特殊词汇 （如：“微信”、“特卖”、“企业微信”、“抽奖”、“免费”等）
自定义菜单 非必填，用户安装时的默认应用菜单，可在应用的底部配置七种类型的快捷操作菜单。不可使用特殊字符及特殊词汇 （如：“微信”、“特卖”、“企业微信”、“抽奖”、“免费”等）
应用通知模版 非必填，每个应用可以申请 10 套应用通知的模板，用于推送相关的通知信息。
新功能 非必填，可填写应用最新更新内容，将在应用详情中展现

2.4 服务商级别开发信息填写标准
填写项 填写位置 填写标准
白名单 IP 列表 服务商信息->IP 白名单 建议填写
只有白名单内的 IP 才能正常调用企业微信 API，若后续 IP 有修改，需要及时进行列表更新
系统事件接收 URL 标准应用服务->通用开发参数 填写带 http:// 或 https:// 头的有效 URL 链接，填写 URL 时需要正确响应企业微信验证 URL 的请求
用于接收通过推广二维码或者注册按钮成功注册企业微信的事件 3. 测试应用
3.1 应用安装测试
企业微信提供两种安装测试途径：

从服务商平台安装测试：服务商可在本地应用中对已创建的应用进行安装测试
自行构造测试授权链接：调用设置授权配置接口，构造测试授权链接进行测试授权

3.2 应用测试说明
用于安装测试的企业微信帐号需服务商自行注册，每个应用支持同时添加 10 个测试企业微信账号；
安装测试的企业微信帐号使用的是当前的应用配置信息，后续的修改不会进行同步；如需更新应用信息请重新授权安装；
同一企业微信帐号，不支持同时安装测试应用和正式发布的应用；
建议对应用进行可用性测试，确保在多个终端能正常使用，包含企业微信移动端(iOS、Android）、企业微信 PC 端（Windows、Mac)、微工作台（原企业号）端(iOS、Android)和 web 端 4. 上线应用
4.1 应用上线流程
提交上线：已认证企业微信的服务商，可进入应用管理—点击提交上线—勾选应用—提交上线（由企业微信团队对应用信息进行审核）
上线应用：审核通过—点击“已通过”状态—提交上线—上线成功

4.2 应用上线说明
发布应用必须进行企业微信账号认证；
应用信息审核需 1-2 个工作日，为提高效率，建议在本地安装测试确认信息无误后再提交上线申请；
审核结果将由“企业微信团队”向系统管理员推送，请系统管理员及时查看企业微信消息提醒；
修改应用：在本地应用中修改信息并重新提交审核，发布后，所修改的应用信息才会覆盖到所有已授权的企业；
应用 logo、应用介绍、应用名称，这三项信息修改并重新发布后，将不会覆盖所有已授权的企业；
下线应用：在“查看已上线应用”列表，进入应用详情页，可以下线应用。应用下线后将不再提供给新的企业授权使用，但不影响所有已授权的企业使用
删除应用：在应用详情页可以删除应用。但曾经上线，且已被企业授权使用的应用不允许删除
定制应用开发
若需要为企业提供灵活的定制应用，请通过自建应用代开发 ，完成应用开发和上线

应用推广

1. 自行推广
   应用上线后，即可生成相应的推广二维码，从自有渠道将产品推广给自己的已有用户及新用户

1.1 推广二维码
生成推广二维码详细步骤：
登录服务商管理后台—进入“标准应用服务”—推广二维码—创建推广二维码—填写相关信息—创建完成，进入推广二维码详情页查看二维码详细信息。

1.2 注册按钮
推广二维码实际上创建了一个企业微信推广包，包含了预定义的企业微信和应用，如果需要在图文中更好地引导用户使用应用，也可以直接用注册按钮的方式，注册按钮的获取路径为：
登录服务商管理后台—进入“标准应用服务”—推广二维码—查看推广二维码详情，推广二维码详情页最底部有该推广包的注册按钮信息。
在图文中嵌入注册按钮，用户点击按钮后，若用户未注册企业微信，将引导下载企业微信，在注册成功后会自动预装应用；若用户已注册企业微信，将引导用户直接将应用安装到企业中。点击查看接口文档

1.3 授权接口
使用第三方授权接口构造应用授权链接，已经注册企业微信的用户在你的网站上可以直接安装应用到他的企业微信中。 点击查看接口文档

2. 应用市场搜索
   企业微信第三方应用按照本文规范做好基础配置，提交应用上线审核成功后，确认上线则同步可在应用市场搜索可见，可以被所有企业微信的用户搜索、使用。
   可在「服务商后台」或「桌面端服务商助手」进入【应用管理-应用市场搜索】模块，查看应用的搜索状态，若不希望应用上线后在应用市场搜索可见，则点击“取消搜索”即可。

3. 应用市场推荐
   符合推荐规范并经过用户内测，审核优化，灰度测试后，可以在应用市场全量推荐
   推荐规范文档请查看《应用市场推荐规范》
   申请应用推荐的详细步骤：
   可在「企业微信服务商助手」中联系渠道经理申请应用推荐审核。
