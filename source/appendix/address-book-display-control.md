---
ref: https://developer.work.weixin.qq.com/document/path/92607
date: 2020/01/09
---

# 通讯录展示控件 - FAQ

如何自定义显示内容，比如表单需要显示“提交人+提交日期+业务类型”？
将需要替换通讯录名称的文本替换为 ww-open-data 标签引用，其它保留不变。比如，

<ww-open-data type="userName" openid="{{openid}}"></ww-open-data>+提交日期+业务类型
通讯录展示组件，是否可以一次性显示多个名称？
组件的每个 ww-open-data 标签引用对应到一个通讯录名称，显示多个名称，则引用多个 ww-open-data。比如，显示完整的部门路径，只需要将路径的部门 id 依次引用即可。

第三方管理端，如何实现成员搜索？
调用接口：通讯录搜索，传入搜索的关键词，获取搜索结果的 userid/departmentid。
再调用通讯录展示组件，显示出搜索的成员名称/部门名称。

如何实现搜索后的结果按拼音排序？
调用接口：通讯录 userid 排序，支持指定的用户列表按拼音升序/降序，返回的结果为排序后的列表。

第三方管理端，导入业务数据文件（如打卡记录），包括了通讯录名称，如何识别？
如果业务数据文件中记录中有唯一字段标识，则可以直接对应关联；
如果通过通讯录名称关联用户，调用 通讯录搜索 接口，获取搜索结果的 userid/departmentid，对应关联到用户

第三方管理端，支持导出业务数据文件（如打卡列表），需要包含通讯录名称，如何实现？
解决方案参考：通讯录 ID 转译。以模板参数填入数据文件中，并上传至企业微信后台，数据文件中的模板参数就会替换为通讯录名称，并获取到一个文件访问地址。
该文件访问地址，需要用户通过企业微信登录至第三方管理端，才可下载。

页面请求数据报错 403
通常是由于用户未登录至第三方业务页面导致，可以访问 open-data 调试页面 查看登录信息。
注意，在单点登录的场景（包括有扫码登录，应用安装完成跳转，以及从企业微信 Web 管理端业务跳转），在指定的 redirect_uri 的域名，才会有登录用户身份。
比如，扫码登录后跳转到域名 A，在域名 B 下使用组件，是会报错 403 的。
